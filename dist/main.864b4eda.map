{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","console","log","$li","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","toUpperCase","logoType","onbeforeunload","string","stringify","setItem","document","key","control_target","target","toString","split","i","length"],"mappings":"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","file":"main.864b4eda.map","sourceRoot":"..\\src","sourcesContent":["const $siteList = $('.siteList')\r\nconst $lastLi = $siteList.find('li.lastLi')\r\nconst x = localStorage.getItem('x')\r\nconst xObject = JSON.parse(x)\r\nconst hashMap = xObject || [\r\n{ logo:'A',url:'https://www.acfun.cn'},\r\n{logo:'B',url:'https://www.bilibili.com'},\r\n]\r\n\r\nconst simplifyUrl = (url) => {\r\n    return url.replace('https://','')\r\n        .replace('http://','')\r\n        .replace('www.','')\r\n        .replace(/\\/.*/,'')\r\n}\r\n\r\nconst render = ()=>{\r\n    $siteList.find('li:not(.lastLi)').remove()     /*唯独不找最后一个li*/\r\n    hashMap.forEach((node,index)=>{\r\n        console.log(index);\r\n        const $li = $(`<li>\r\n                <div class=\"site\">\r\n                    <div class=\"logo\">${node.logo[0]}</div>\r\n                    <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n                    <div class=\"close\">×</div>\r\n                </div>\r\n</li>`).insertBefore($lastLi)\r\n        $li.on('click',()=>{\r\n            window.open(node.url)\r\n        })\r\n        $li.on('click','.close',(e)=>{\r\n            e.stopPropagation()     //阻止冒泡\r\n            hashMap.splice(index,1) //点击删除网站，删去数组中的此项索引\r\n            render()\r\n        })\r\n    })\r\n}\r\nrender()\r\n//\r\n$('.addSite')\r\n    .on('click',()=>{\r\n        let url = window.prompt('请问您想要添加的网站是什么？')\r\n        if(url.indexOf('http') !== 0){\r\n            url = 'https://' + url;\r\n        }\r\n        console.log(url)\r\n        hashMap.push({logo: simplifyUrl(url)[0].toUpperCase(),logoType: 'text',url:url})\r\n        // const $li = $(`<li>\r\n        //     <a href=\"${url}\">\r\n        //         <div class=\"site\">\r\n        //             <div class=\"logo\">${url[8]}</div>\r\n        //             <div class=\"link\">${url}</div>\r\n        //         </div>\r\n        //     </a>\r\n        // </li>`).insertBefore($lastLi)\r\n       render()\r\n    })\r\n\r\nwindow.onbeforeunload = () =>{\r\n    console.log('页面要关闭了')\r\n    const string = JSON.stringify(hashMap)\r\n    window.localStorage.setItem('x',string)\r\n}\r\n\r\n$(document).on('keypress',(e)=>{       //键盘事件\r\n\r\n    const {key}=e;      //等价于key=e.key\r\n    const control_target = e.target.toString().split('L')[1]\r\n\r\n    if(control_target === 'InputElement]'){\r\n    } else {\r\n        for(let i = 0;i < hashMap.length; i++){\r\n            if (hashMap[i].logo === key.toUpperCase()) {\r\n                window.open(hashMap[i].url)\r\n            }\r\n        }\r\n    }\r\n})\r\n"]}